//this code was generated by PPC || "https://github.com/SeanMott/PPC"


//auto-include
#include <PPCRuntime/GCContext.hpp>
#include <PPCRuntime/MacroJumps.hpp>


//this file depends on the following
#include "OSRegisterVersion.hpp"
#include "__DVDFSInit.hpp"
#include "__DVDClearWaitingQueue.hpp"
#include "__DVDInitWA.hpp"
#include "__DVDInterruptHandler.hpp"
#include "__DVDInterruptHandler.hpp"
#include "__OSSetInterruptHandler.hpp"
#include "__OSUnmaskInterrupts.hpp"
#include "OSInitThreadQueue.hpp"
#include "OSReport.hpp"
#include "__fstLoad.hpp"



void DVDInit(PPC::Runtime::GCContext* context)
{
/*803C577C 003C257C*/ PPC::Runtime::ASM::mflr(context->r0);
/*803C5780 003C2580*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x4, context->r1));
/*803C5784 003C2584*/ PPC::Runtime::ASM::stwu(context->r1, PPC_RUNTIME_GET_MEMORY_OFFSET_NEG_HEX_LITERAL_OF_SINGLE_REGISTER(-0x10, context->r1));
/*803C5788 003C2588*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xc, context->r1));
/*803C578C 003C258C*/ PPC::Runtime::ASM::lwz(context->r0, DVDInitialized_805DDDE8 @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803C5790 003C2590*/ PPC::Runtime::ASM::cmpwi(context->r0, 0x0);
/*803C5794 003C2594*/ PPC::Runtime::ASM::bne(.L_803C5834);
/*803C5798 003C2598*/ PPC::Runtime::ASM::lwz(context->r3, __DVDVersion @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803C579C 003C259C*/ PPC::Runtime::ASM::bl(OSRegisterVersion);
/*803C57A0 003C25A0*/ PPC::Runtime::ASM::li(context->r31, 0x1);
/*803C57A4 003C25A4*/ PPC::Runtime::ASM::stw(context->r31, DVDInitialized_805DDDE8 @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803C57A8 003C25A8*/ PPC::Runtime::ASM::bl(__DVDFSInit);
/*803C57AC 003C25AC*/ PPC::Runtime::ASM::bl(__DVDClearWaitingQueue);
/*803C57B0 003C25B0*/ PPC::Runtime::ASM::bl(__DVDInitWA);
/*803C57B4 003C25B4*/ PPC::Runtime::ASM::lis(context->r0, 0x8000);
/*803C57B8 003C25B8*/ PPC::Runtime::ASM::lis(context->r3, __DVDInterruptHandler @ Get_MemoryOffset_HighBit);
/*803C57BC 003C25BC*/ PPC::Runtime::ASM::stw(context->r0, bootInfo_805DDDB0 @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803C57C0 003C25C0*/ PPC::Runtime::ASM::addi(context->r4, context->r3, __DVDInterruptHandler @ Get_MemoryOffset_LowBit);
/*803C57C4 003C25C4*/ PPC::Runtime::ASM::stw(context->r0, IDShouldBe_805DDDAC @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803C57C8 003C25C8*/ PPC::Runtime::ASM::li(context->r3, 0x15);
/*803C57CC 003C25CC*/ PPC::Runtime::ASM::bl(__OSSetInterruptHandler);
/*803C57D0 003C25D0*/ PPC::Runtime::ASM::li(context->r3, 0x400);
/*803C57D4 003C25D4*/ PPC::Runtime::ASM::bl(__OSUnmaskInterrupts);
/*803C57D8 003C25D8*/ PPC::Runtime::ASM::li(context->r3, __DVDThreadQueue @ Get_MemoryOffset_SDA21);
/*803C57DC 003C25DC*/ PPC::Runtime::ASM::bl(OSInitThreadQueue);
/*803C57E0 003C25E0*/ PPC::Runtime::ASM::lis(context->r3, 0xcc00);
/*803C57E4 003C25E4*/ PPC::Runtime::ASM::li(context->r0, 0x2a);
/*803C57E8 003C25E8*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x6000, context->r3));
/*803C57EC 003C25EC*/ PPC::Runtime::ASM::li(context->r0, 0x0);
/*803C57F0 003C25F0*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x6004, context->r3));
/*803C57F4 003C25F4*/ PPC::Runtime::ASM::lwz(context->r3, bootInfo_805DDDB0 @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803C57F8 003C25F8*/ PPC::Runtime::ASM::addi(context->r3, context->r3, 0x20);
/*803C57FC 003C25FC*/ PPC::Runtime::ASM::lwz(context->r3, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x0, context->r3));
/*803C5800 003C2600*/ PPC::Runtime::ASM::addis(context->r0, context->r3, 0x1ae0);
/*803C5804 003C2604*/ PPC::Runtime::ASM::cmplwi(context->r0, 0x7c22);
/*803C5808 003C2608*/ PPC::Runtime::ASM::bne(.L_803C5824);
/*803C580C 003C260C*/ PPC::Runtime::ASM::lis(context->r3, AT_18_804F9678 @ Get_MemoryOffset_HighBit);
/*803C5810 003C2610*/ PPC::Runtime::ASM::crclr(context->cr1eq);
/*803C5814 003C2614*/ PPC::Runtime::ASM::addi(context->r3, context->r3, AT_18_804F9678 @ Get_MemoryOffset_LowBit);
/*803C5818 003C2618*/ PPC::Runtime::ASM::bl(OSReport);
/*803C581C 003C261C*/ PPC::Runtime::ASM::bl(__fstLoad);
/*803C5820 003C2620*/ PPC::Runtime::ASM::b(.L_803C5834);
RUNTIME_PPC_JUMP_LABEL(.L_803C5824, 0x803C5824) //this is a jump label
/*803C5824 003C2624*/ PPC::Runtime::ASM::subis(context->r0, context->r3, 0xd15);
/*803C5828 003C2628*/ PPC::Runtime::ASM::cmplwi(context->r0, 0xea5e);
/*803C582C 003C262C*/ PPC::Runtime::ASM::beq(.L_803C5834);
/*803C5830 003C2630*/ PPC::Runtime::ASM::stw(context->r31, FirstTimeInBootrom_805DDDE4 @ Get_MemoryOffset_SDA21 ( context->r0 ));
RUNTIME_PPC_JUMP_LABEL(.L_803C5834, 0x803C5834) //this is a jump label
/*803C5834 003C2634*/ PPC::Runtime::ASM::lwz(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x14, context->r1));
/*803C5838 003C2638*/ PPC::Runtime::ASM::lwz(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xc, context->r1));
/*803C583C 003C263C*/ PPC::Runtime::ASM::addi(context->r1, context->r1, 0x10);
/*803C5840 003C2640*/ PPC::Runtime::ASM::mtlr(context->r0);
/*803C5844 003C2644*/ PPC::Runtime::ASM::blr();
}