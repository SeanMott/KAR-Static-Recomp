//this code was generated by PPC || "https://github.com/SeanMott/PPC"


//auto-include
#include <PPCRuntime/GCContext.hpp>
#include <PPCRuntime/MacroJumps.hpp>


//this file depends on the following
#include "fn_OSCancelAlarm.hpp"
#include "EXILock.hpp"
#include "fn___CARDReadStatus.hpp"
#include "fn___CARDClearStatus.hpp"
#include "fn_Retry.hpp"
#include "EXIUnlock.hpp"



void fn___CARDExiHandler(PPC::Runtime::GCContext* context)
{
/*803E1F38 003DED38*/ PPC::Runtime::ASM::mflr(context->r0);
/*803E1F3C 003DED3C*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x4, context->r1));
/*803E1F40 003DED40*/ PPC::Runtime::ASM::stwu(context->r1, PPC_RUNTIME_GET_MEMORY_OFFSET_NEG_HEX_LITERAL_OF_SINGLE_REGISTER(-0x28, context->r1));
/*803E1F44 003DED44*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x24, context->r1));
/*803E1F48 003DED48*/ PPC::Runtime::ASM::addi(context->r31, context->r3, 0x0);
/*803E1F4C 003DED4C*/ PPC::Runtime::ASM::mulli(context->r4, context->r31, 0x110);
/*803E1F50 003DED50*/ PPC::Runtime::ASM::stw(context->r30, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x20, context->r1));
/*803E1F54 003DED54*/ PPC::Runtime::ASM::lis(context->r3, STRUCT_BYTE4_COUNT_18056E4E8 @ Get_MemoryOffset_HighBit);
/*803E1F58 003DED58*/ PPC::Runtime::ASM::stw(context->r29, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x1c, context->r1));
/*803E1F5C 003DED5C*/ PPC::Runtime::ASM::addi(context->r0, context->r3, STRUCT_BYTE4_COUNT_18056E4E8 @ Get_MemoryOffset_LowBit);
/*803E1F60 003DED60*/ PPC::Runtime::ASM::add(context->r30, context->r0, context->r4);
/*803E1F64 003DED64*/ PPC::Runtime::ASM::addi(context->r3, context->r30, 0xe0);
/*803E1F68 003DED68*/ PPC::Runtime::ASM::bl(fn_OSCancelAlarm);
/*803E1F6C 003DED6C*/ PPC::Runtime::ASM::lwz(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x0, context->r30));
/*803E1F70 003DED70*/ PPC::Runtime::ASM::cmpwi(context->r0, 0x0);
/*803E1F74 003DED74*/ PPC::Runtime::ASM::beq(.L_803E2034);
/*803E1F78 003DED78*/ PPC::Runtime::ASM::addi(context->r3, context->r31, 0x0);
/*803E1F7C 003DED7C*/ PPC::Runtime::ASM::li(context->r4, 0x0);
/*803E1F80 003DED80*/ PPC::Runtime::ASM::li(context->r5, 0x0);
/*803E1F84 003DED84*/ PPC::Runtime::ASM::bl(EXILock);
/*803E1F88 003DED88*/ PPC::Runtime::ASM::cmpwi(context->r3, 0x0);
/*803E1F8C 003DED8C*/ PPC::Runtime::ASM::bne(.L_803E1F98);
/*803E1F90 003DED90*/ PPC::Runtime::ASM::li(context->r29, -0x80);
/*803E1F94 003DED94*/ PPC::Runtime::ASM::b(.L_803E200C);
RUNTIME_PPC_JUMP_LABEL(.L_803E1F98, 0x803E1F98) //this is a jump label
/*803E1F98 003DED98*/ PPC::Runtime::ASM::addi(context->r3, context->r31, 0x0);
/*803E1F9C 003DED9C*/ PPC::Runtime::ASM::addi(context->r4, context->r1, 0x10);
/*803E1FA0 003DEDA0*/ PPC::Runtime::ASM::bl(fn___CARDReadStatus);
/* 803E1FA4 003DEDA4  7C 7D 1B 79 */ mr. context->r29 , context->r3
/*803E1FA8 003DEDA8*/ PPC::Runtime::ASM::blt(.L_803E2004);
/*803E1FAC 003DEDAC*/ PPC::Runtime::ASM::mr(context->r3, context->r31);
/*803E1FB0 003DEDB0*/ PPC::Runtime::ASM::bl(fn___CARDClearStatus);
/* 803E1FB4 003DEDB4  7C 7D 1B 79 */ mr. context->r29 , context->r3
/*803E1FB8 003DEDB8*/ PPC::Runtime::ASM::blt(.L_803E2004);
/*803E1FBC 003DEDBC*/ PPC::Runtime::ASM::lbz(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x10, context->r1));
/*803E1FC0 003DEDC0*/ PPC::Runtime::ASM::rlwinm.(context->r0, context->r0, 0, 27, 28);
/*803E1FC4 003DEDC4*/ PPC::Runtime::ASM::beq(.L_803E1FD0);
/*803E1FC8 003DEDC8*/ PPC::Runtime::ASM::li(context->r0, -0x5);
/*803E1FCC 003DEDCC*/ PPC::Runtime::ASM::b(.L_803E1FD4);
RUNTIME_PPC_JUMP_LABEL(.L_803E1FD0, 0x803E1FD0) //this is a jump label
/*803E1FD0 003DEDD0*/ PPC::Runtime::ASM::li(context->r0, 0x0);
RUNTIME_PPC_JUMP_LABEL(.L_803E1FD4, 0x803E1FD4) //this is a jump label
/*803E1FD4 003DEDD4*/ PPC::Runtime::ASM::mr(context->r29, context->r0);
/*803E1FD8 003DEDD8*/ PPC::Runtime::ASM::cmpwi(context->r29, -0x5);
/*803E1FDC 003DEDDC*/ PPC::Runtime::ASM::bne(.L_803E2004);
/*803E1FE0 003DEDE0*/ PPC::Runtime::ASM::lwz(context->r3, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xa8, context->r30));
/* 803E1FE4 003DEDE4  34 03 FF FF */ subic. context->r0 , context->r3 , 0x1
/*803E1FE8 003DEDE8*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xa8, context->r30));
/*803E1FEC 003DEDEC*/ PPC::Runtime::ASM::ble(.L_803E2004);
/*803E1FF0 003DEDF0*/ PPC::Runtime::ASM::mr(context->r3, context->r31);
/*803E1FF4 003DEDF4*/ PPC::Runtime::ASM::bl(fn_Retry);
/* 803E1FF8 003DEDF8  7C 7D 1B 79 */ mr. context->r29 , context->r3
/*803E1FFC 003DEDFC*/ PPC::Runtime::ASM::blt(.L_803E200C);
/*803E2000 003DEE00*/ PPC::Runtime::ASM::b(.L_803E2034);
RUNTIME_PPC_JUMP_LABEL(.L_803E2004, 0x803E2004) //this is a jump label
/*803E2004 003DEE04*/ PPC::Runtime::ASM::mr(context->r3, context->r31);
/*803E2008 003DEE08*/ PPC::Runtime::ASM::bl(EXIUnlock);
RUNTIME_PPC_JUMP_LABEL(.L_803E200C, 0x803E200C) //this is a jump label
/*803E200C 003DEE0C*/ PPC::Runtime::ASM::lwz(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xcc, context->r30));
/*803E2010 003DEE10*/ PPC::Runtime::ASM::cmplwi(context->r0, 0x0);
/*803E2014 003DEE14*/ PPC::Runtime::ASM::mr(context->r12, context->r0);
/*803E2018 003DEE18*/ PPC::Runtime::ASM::beq(.L_803E2034);
/*803E201C 003DEE1C*/ PPC::Runtime::ASM::li(context->r0, 0x0);
/*803E2020 003DEE20*/ PPC::Runtime::ASM::mtlr(context->r12);
/*803E2024 003DEE24*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xcc, context->r30));
/*803E2028 003DEE28*/ PPC::Runtime::ASM::addi(context->r3, context->r31, 0x0);
/*803E202C 003DEE2C*/ PPC::Runtime::ASM::addi(context->r4, context->r29, 0x0);
/* 803E2030 003DEE30  4E 80 00 21 */ blrl
RUNTIME_PPC_JUMP_LABEL(.L_803E2034, 0x803E2034) //this is a jump label
/*803E2034 003DEE34*/ PPC::Runtime::ASM::lwz(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x2c, context->r1));
/*803E2038 003DEE38*/ PPC::Runtime::ASM::lwz(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x24, context->r1));
/*803E203C 003DEE3C*/ PPC::Runtime::ASM::lwz(context->r30, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x20, context->r1));
/*803E2040 003DEE40*/ PPC::Runtime::ASM::lwz(context->r29, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x1c, context->r1));
/*803E2044 003DEE44*/ PPC::Runtime::ASM::addi(context->r1, context->r1, 0x28);
/*803E2048 003DEE48*/ PPC::Runtime::ASM::mtlr(context->r0);
/*803E204C 003DEE4C*/ PPC::Runtime::ASM::blr();
}