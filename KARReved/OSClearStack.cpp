//this code was generated by PPC || "https://github.com/SeanMott/PPC"


//auto-include
#include <PPCRuntime/GCContext.hpp>
#include <PPCRuntime/MacroJumps.hpp>


//this file depends on the following
#include "fn_OSGetStackPointer.hpp"



void OSClearStack(PPC::Runtime::GCContext* context)
{
/*803DB46C 003D826C*/ PPC::Runtime::ASM::mflr(context->r0);
/*803DB470 003D8270*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x4, context->r1));
/*803DB474 003D8274*/ PPC::Runtime::ASM::clrlslwi(context->r0, context->r3, 24, 16);
/*803DB478 003D8278*/ PPC::Runtime::ASM::rlwimi(context->r0, context->r3, 24, 0, 7);
/*803DB47C 003D827C*/ PPC::Runtime::ASM::stwu(context->r1, PPC_RUNTIME_GET_MEMORY_OFFSET_NEG_HEX_LITERAL_OF_SINGLE_REGISTER(-0x18, context->r1));
/*803DB480 003D8280*/ PPC::Runtime::ASM::rlwimi(context->r0, context->r3, 8, 16, 23);
/*803DB484 003D8284*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x14, context->r1));
/*803DB488 003D8288*/ PPC::Runtime::ASM::mr(context->r31, context->r0);
/*803DB48C 003D828C*/ PPC::Runtime::ASM::rlwimi(context->r31, context->r3, 0, 24, 31);
/*803DB490 003D8290*/ PPC::Runtime::ASM::bl(fn_OSGetStackPointer);
/*803DB494 003D8294*/ PPC::Runtime::ASM::lis(context->r4, 0x8000);
/*803DB498 003D8298*/ PPC::Runtime::ASM::lwz(context->r5, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xe4, context->r4));
/*803DB49C 003D829C*/ PPC::Runtime::ASM::addi(context->r4, context->r3, 0x3);
/*803DB4A0 003D82A0*/ PPC::Runtime::ASM::lwz(context->r5, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x308, context->r5));
/*803DB4A4 003D82A4*/ PPC::Runtime::ASM::addi(context->r5, context->r5, 0x4);
/*803DB4A8 003D82A8*/ PPC::Runtime::ASM::cmplw(context->r5, context->r3);
/*803DB4AC 003D82AC*/ PPC::Runtime::ASM::subf(context->r4, context->r5, context->r4);
/*803DB4B0 003D82B0*/ PPC::Runtime::ASM::srwi(context->r4, context->r4, 2);
/*803DB4B4 003D82B4*/ PPC::Runtime::ASM::bge(.L_803DB504);
/* 803DB4B8 003D82B8  54 80 E8 FF */ srwi. context->r0 , context->r4 , 3
/*803DB4BC 003D82BC*/ PPC::Runtime::ASM::mtctr(context->r0);
/*803DB4C0 003D82C0*/ PPC::Runtime::ASM::beq(.L_803DB4F4);
RUNTIME_PPC_JUMP_LABEL(.L_803DB4C4, 0x803DB4C4) //this is a jump label
/*803DB4C4 003D82C4*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x0, context->r5));
/*803DB4C8 003D82C8*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x4, context->r5));
/*803DB4CC 003D82CC*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x8, context->r5));
/*803DB4D0 003D82D0*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xc, context->r5));
/*803DB4D4 003D82D4*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x10, context->r5));
/*803DB4D8 003D82D8*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x14, context->r5));
/*803DB4DC 003D82DC*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x18, context->r5));
/*803DB4E0 003D82E0*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x1c, context->r5));
/*803DB4E4 003D82E4*/ PPC::Runtime::ASM::addi(context->r5, context->r5, 0x20);
/*803DB4E8 003D82E8*/ PPC::Runtime::ASM::bdnz(.L_803DB4C4);
/*803DB4EC 003D82EC*/ PPC::Runtime::ASM::andi.(context->r4, context->r4, 0x7);
/*803DB4F0 003D82F0*/ PPC::Runtime::ASM::beq(.L_803DB504);
RUNTIME_PPC_JUMP_LABEL(.L_803DB4F4, 0x803DB4F4) //this is a jump label
/*803DB4F4 003D82F4*/ PPC::Runtime::ASM::mtctr(context->r4);
RUNTIME_PPC_JUMP_LABEL(.L_803DB4F8, 0x803DB4F8) //this is a jump label
/*803DB4F8 003D82F8*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x0, context->r5));
/*803DB4FC 003D82FC*/ PPC::Runtime::ASM::addi(context->r5, context->r5, 0x4);
/*803DB500 003D8300*/ PPC::Runtime::ASM::bdnz(.L_803DB4F8);
RUNTIME_PPC_JUMP_LABEL(.L_803DB504, 0x803DB504) //this is a jump label
/*803DB504 003D8304*/ PPC::Runtime::ASM::lwz(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x1c, context->r1));
/*803DB508 003D8308*/ PPC::Runtime::ASM::lwz(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x14, context->r1));
/*803DB50C 003D830C*/ PPC::Runtime::ASM::addi(context->r1, context->r1, 0x18);
/*803DB510 003D8310*/ PPC::Runtime::ASM::mtlr(context->r0);
/*803DB514 003D8314*/ PPC::Runtime::ASM::blr();
}