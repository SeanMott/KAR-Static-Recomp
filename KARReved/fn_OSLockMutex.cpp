//this code was generated by PPC || "https://github.com/SeanMott/PPC"


//auto-include
#include <PPCRuntime/GCContext.hpp>
#include <PPCRuntime/MacroJumps.hpp>


//this file depends on the following
#include "OSDisableInterrupts.hpp"
#include "fn_OSGetCurrentContext.hpp"
#include "fn___OSPromoteThread.hpp"
#include "fn_OSSleepThread.hpp"
#include "OSRestoreInterrupts.hpp"



void fn_OSLockMutex(PPC::Runtime::GCContext* context)
{
/*803D7E58 003D4C58*/ PPC::Runtime::ASM::mflr(context->r0);
/*803D7E5C 003D4C5C*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x4, context->r1));
/*803D7E60 003D4C60*/ PPC::Runtime::ASM::stwu(context->r1, PPC_RUNTIME_GET_MEMORY_OFFSET_NEG_HEX_LITERAL_OF_SINGLE_REGISTER(-0x20, context->r1));
/*803D7E64 003D4C64*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x1c, context->r1));
/*803D7E68 003D4C68*/ PPC::Runtime::ASM::stw(context->r30, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x18, context->r1));
/*803D7E6C 003D4C6C*/ PPC::Runtime::ASM::stw(context->r29, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x14, context->r1));
/*803D7E70 003D4C70*/ PPC::Runtime::ASM::stw(context->r28, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x10, context->r1));
/*803D7E74 003D4C74*/ PPC::Runtime::ASM::mr(context->r28, context->r3);
/*803D7E78 003D4C78*/ PPC::Runtime::ASM::bl(OSDisableInterrupts);
/*803D7E7C 003D4C7C*/ PPC::Runtime::ASM::mr(context->r29, context->r3);
/*803D7E80 003D4C80*/ PPC::Runtime::ASM::bl(fn_OSGetCurrentContext);
/*803D7E84 003D4C84*/ PPC::Runtime::ASM::addi(context->r30, context->r3, 0x0);
/*803D7E88 003D4C88*/ PPC::Runtime::ASM::li(context->r31, 0x0);
RUNTIME_PPC_JUMP_LABEL(.L_803D7E8C, 0x803D7E8C) //this is a jump label
/*803D7E8C 003D4C8C*/ PPC::Runtime::ASM::lwz(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x8, context->r28));
/*803D7E90 003D4C90*/ PPC::Runtime::ASM::cmplwi(context->r0, 0x0);
/*803D7E94 003D4C94*/ PPC::Runtime::ASM::bne(.L_803D7ED4);
/*803D7E98 003D4C98*/ PPC::Runtime::ASM::stw(context->r30, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x8, context->r28));
/*803D7E9C 003D4C9C*/ PPC::Runtime::ASM::lwz(context->r3, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xc, context->r28));
/*803D7EA0 003D4CA0*/ PPC::Runtime::ASM::addi(context->r0, context->r3, 0x1);
/*803D7EA4 003D4CA4*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xc, context->r28));
/*803D7EA8 003D4CA8*/ PPC::Runtime::ASM::lwz(context->r3, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x2f8, context->r30));
/*803D7EAC 003D4CAC*/ PPC::Runtime::ASM::cmplwi(context->r3, 0x0);
/*803D7EB0 003D4CB0*/ PPC::Runtime::ASM::bne(.L_803D7EBC);
/*803D7EB4 003D4CB4*/ PPC::Runtime::ASM::stw(context->r28, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x2f4, context->r30));
/*803D7EB8 003D4CB8*/ PPC::Runtime::ASM::b(.L_803D7EC0);
RUNTIME_PPC_JUMP_LABEL(.L_803D7EBC, 0x803D7EBC) //this is a jump label
/*803D7EBC 003D4CBC*/ PPC::Runtime::ASM::stw(context->r28, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x10, context->r3));
RUNTIME_PPC_JUMP_LABEL(.L_803D7EC0, 0x803D7EC0) //this is a jump label
/*803D7EC0 003D4CC0*/ PPC::Runtime::ASM::stw(context->r3, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x14, context->r28));
/*803D7EC4 003D4CC4*/ PPC::Runtime::ASM::li(context->r0, 0x0);
/*803D7EC8 003D4CC8*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x10, context->r28));
/*803D7ECC 003D4CCC*/ PPC::Runtime::ASM::stw(context->r28, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x2f8, context->r30));
/*803D7ED0 003D4CD0*/ PPC::Runtime::ASM::b(.L_803D7F0C);
RUNTIME_PPC_JUMP_LABEL(.L_803D7ED4, 0x803D7ED4) //this is a jump label
/*803D7ED4 003D4CD4*/ PPC::Runtime::ASM::cmplw(context->r0, context->r30);
/*803D7ED8 003D4CD8*/ PPC::Runtime::ASM::bne(.L_803D7EEC);
/*803D7EDC 003D4CDC*/ PPC::Runtime::ASM::lwz(context->r3, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xc, context->r28));
/*803D7EE0 003D4CE0*/ PPC::Runtime::ASM::addi(context->r0, context->r3, 0x1);
/*803D7EE4 003D4CE4*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xc, context->r28));
/*803D7EE8 003D4CE8*/ PPC::Runtime::ASM::b(.L_803D7F0C);
RUNTIME_PPC_JUMP_LABEL(.L_803D7EEC, 0x803D7EEC) //this is a jump label
/*803D7EEC 003D4CEC*/ PPC::Runtime::ASM::stw(context->r28, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x2f0, context->r30));
/*803D7EF0 003D4CF0*/ PPC::Runtime::ASM::lwz(context->r3, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x8, context->r28));
/*803D7EF4 003D4CF4*/ PPC::Runtime::ASM::lwz(context->r4, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x2d0, context->r30));
/*803D7EF8 003D4CF8*/ PPC::Runtime::ASM::bl(fn___OSPromoteThread);
/*803D7EFC 003D4CFC*/ PPC::Runtime::ASM::mr(context->r3, context->r28);
/*803D7F00 003D4D00*/ PPC::Runtime::ASM::bl(fn_OSSleepThread);
/*803D7F04 003D4D04*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x2f0, context->r30));
/*803D7F08 003D4D08*/ PPC::Runtime::ASM::b(.L_803D7E8C);
RUNTIME_PPC_JUMP_LABEL(.L_803D7F0C, 0x803D7F0C) //this is a jump label
/*803D7F0C 003D4D0C*/ PPC::Runtime::ASM::mr(context->r3, context->r29);
/*803D7F10 003D4D10*/ PPC::Runtime::ASM::bl(OSRestoreInterrupts);
/*803D7F14 003D4D14*/ PPC::Runtime::ASM::lwz(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x24, context->r1));
/*803D7F18 003D4D18*/ PPC::Runtime::ASM::lwz(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x1c, context->r1));
/*803D7F1C 003D4D1C*/ PPC::Runtime::ASM::lwz(context->r30, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x18, context->r1));
/*803D7F20 003D4D20*/ PPC::Runtime::ASM::lwz(context->r29, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x14, context->r1));
/*803D7F24 003D4D24*/ PPC::Runtime::ASM::lwz(context->r28, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x10, context->r1));
/*803D7F28 003D4D28*/ PPC::Runtime::ASM::addi(context->r1, context->r1, 0x20);
/*803D7F2C 003D4D2C*/ PPC::Runtime::ASM::mtlr(context->r0);
/*803D7F30 003D4D30*/ PPC::Runtime::ASM::blr();
}