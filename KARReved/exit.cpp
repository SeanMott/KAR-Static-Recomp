//this code was generated by PPC || "https://github.com/SeanMott/PPC"


//auto-include
#include <PPCRuntime/GCContext.hpp>
#include <PPCRuntime/MacroJumps.hpp>


//this file depends on the following
#include "__begin_critical_region.hpp"
#include "__end_critical_region.hpp"
#include "__begin_critical_region.hpp"
#include "__end_critical_region.hpp"
#include "__kill_critical_regions.hpp"
#include "_ExitProcess.hpp"



void exit(PPC::Runtime::GCContext* context)
{
/*803AF93C 003AC73C*/ PPC::Runtime::ASM::stwu(context->r1, PPC_RUNTIME_GET_MEMORY_OFFSET_NEG_HEX_LITERAL_OF_SINGLE_REGISTER(-0x10, context->r1));
/*803AF940 003AC740*/ PPC::Runtime::ASM::mflr(context->r0);
/*803AF944 003AC744*/ PPC::Runtime::ASM::stw(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x14, context->r1));
/*803AF948 003AC748*/ PPC::Runtime::ASM::stw(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xc, context->r1));
/*803AF94C 003AC74C*/ PPC::Runtime::ASM::lwz(context->r0, __aborting @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803AF950 003AC750*/ PPC::Runtime::ASM::cmpwi(context->r0, 0x0);
/*803AF954 003AC754*/ PPC::Runtime::ASM::bne(.L_803AF9B0);
/*803AF958 003AC758*/ PPC::Runtime::ASM::li(context->r3, 0x0);
/*803AF95C 003AC75C*/ PPC::Runtime::ASM::bl(__begin_critical_region);
/*803AF960 003AC760*/ PPC::Runtime::ASM::li(context->r3, 0x0);
/*803AF964 003AC764*/ PPC::Runtime::ASM::bl(__end_critical_region);
/*803AF968 003AC768*/ PPC::Runtime::ASM::bl(__destroy_global_chain);
/*803AF96C 003AC76C*/ PPC::Runtime::ASM::lis(context->r3, _dtors @ Get_MemoryOffset_HighBit);
/*803AF970 003AC770*/ PPC::Runtime::ASM::addi(context->r0, context->r3, _dtors @ Get_MemoryOffset_LowBit);
/*803AF974 003AC774*/ PPC::Runtime::ASM::mr(context->r31, context->r0);
/*803AF978 003AC778*/ PPC::Runtime::ASM::b(.L_803AF988);
RUNTIME_PPC_JUMP_LABEL(.L_803AF97C, 0x803AF97C) //this is a jump label
/*803AF97C 003AC77C*/ PPC::Runtime::ASM::mtctr(context->r12);
/*803AF980 003AC780*/ PPC::Runtime::ASM::bctrl();
/*803AF984 003AC784*/ PPC::Runtime::ASM::addi(context->r31, context->r31, 0x4);
RUNTIME_PPC_JUMP_LABEL(.L_803AF988, 0x803AF988) //this is a jump label
/*803AF988 003AC788*/ PPC::Runtime::ASM::lwz(context->r12, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x0, context->r31));
/*803AF98C 003AC78C*/ PPC::Runtime::ASM::cmplwi(context->r12, 0x0);
/*803AF990 003AC790*/ PPC::Runtime::ASM::bne(.L_803AF97C);
/*803AF994 003AC794*/ PPC::Runtime::ASM::lwz(context->r12, __stdio_exit @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803AF998 003AC798*/ PPC::Runtime::ASM::cmplwi(context->r12, 0x0);
/*803AF99C 003AC79C*/ PPC::Runtime::ASM::beq(.L_803AF9B0);
/*803AF9A0 003AC7A0*/ PPC::Runtime::ASM::mtctr(context->r12);
/*803AF9A4 003AC7A4*/ PPC::Runtime::ASM::bctrl();
/*803AF9A8 003AC7A8*/ PPC::Runtime::ASM::li(context->r0, 0x0);
/*803AF9AC 003AC7AC*/ PPC::Runtime::ASM::stw(context->r0, __stdio_exit @ Get_MemoryOffset_SDA21 ( context->r0 ));
RUNTIME_PPC_JUMP_LABEL(.L_803AF9B0, 0x803AF9B0) //this is a jump label
/*803AF9B0 003AC7B0*/ PPC::Runtime::ASM::li(context->r3, 0x0);
/*803AF9B4 003AC7B4*/ PPC::Runtime::ASM::bl(__begin_critical_region);
/*803AF9B8 003AC7B8*/ PPC::Runtime::ASM::lis(context->r3, __atexit_funcs @ Get_MemoryOffset_HighBit);
/*803AF9BC 003AC7BC*/ PPC::Runtime::ASM::addi(context->r31, context->r3, __atexit_funcs @ Get_MemoryOffset_LowBit);
/*803AF9C0 003AC7C0*/ PPC::Runtime::ASM::b(.L_803AF9E0);
RUNTIME_PPC_JUMP_LABEL(.L_803AF9C4, 0x803AF9C4) //this is a jump label
/*803AF9C4 003AC7C4*/ PPC::Runtime::ASM::lwz(context->r3, __atexit_curr_func @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803AF9C8 003AC7C8*/ PPC::Runtime::ASM::subi(context->r3, context->r3, 0x1);
/*803AF9CC 003AC7CC*/ PPC::Runtime::ASM::slwi(context->r0, context->r3, 2);
/*803AF9D0 003AC7D0*/ PPC::Runtime::ASM::stw(context->r3, __atexit_curr_func @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803AF9D4 003AC7D4*/ PPC::Runtime::ASM::lwzx(context->r12, context->r31, context->r0);
/*803AF9D8 003AC7D8*/ PPC::Runtime::ASM::mtctr(context->r12);
/*803AF9DC 003AC7DC*/ PPC::Runtime::ASM::bctrl();
RUNTIME_PPC_JUMP_LABEL(.L_803AF9E0, 0x803AF9E0) //this is a jump label
/*803AF9E0 003AC7E0*/ PPC::Runtime::ASM::lwz(context->r0, __atexit_curr_func @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803AF9E4 003AC7E4*/ PPC::Runtime::ASM::cmpwi(context->r0, 0x0);
/*803AF9E8 003AC7E8*/ PPC::Runtime::ASM::bgt(.L_803AF9C4);
/*803AF9EC 003AC7EC*/ PPC::Runtime::ASM::li(context->r3, 0x0);
/*803AF9F0 003AC7F0*/ PPC::Runtime::ASM::bl(__end_critical_region);
/*803AF9F4 003AC7F4*/ PPC::Runtime::ASM::bl(__kill_critical_regions);
/*803AF9F8 003AC7F8*/ PPC::Runtime::ASM::lwz(context->r12, __console_exit @ Get_MemoryOffset_SDA21 ( context->r0 ));
/*803AF9FC 003AC7FC*/ PPC::Runtime::ASM::cmplwi(context->r12, 0x0);
/*803AFA00 003AC800*/ PPC::Runtime::ASM::beq(.L_803AFA14);
/*803AFA04 003AC804*/ PPC::Runtime::ASM::mtctr(context->r12);
/*803AFA08 003AC808*/ PPC::Runtime::ASM::bctrl();
/*803AFA0C 003AC80C*/ PPC::Runtime::ASM::li(context->r0, 0x0);
/*803AFA10 003AC810*/ PPC::Runtime::ASM::stw(context->r0, __console_exit @ Get_MemoryOffset_SDA21 ( context->r0 ));
RUNTIME_PPC_JUMP_LABEL(.L_803AFA14, 0x803AFA14) //this is a jump label
/*803AFA14 003AC814*/ PPC::Runtime::ASM::bl(_ExitProcess);
/*803AFA18 003AC818*/ PPC::Runtime::ASM::lwz(context->r0, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0x14, context->r1));
/*803AFA1C 003AC81C*/ PPC::Runtime::ASM::lwz(context->r31, PPC_RUNTIME_GET_MEMORY_OFFSET_POS_HEX_LITERAL_OF_SINGLE_REGISTER(0xc, context->r1));
/*803AFA20 003AC820*/ PPC::Runtime::ASM::mtlr(context->r0);
/*803AFA24 003AC824*/ PPC::Runtime::ASM::addi(context->r1, context->r1, 0x10);
/*803AFA28 003AC828*/ PPC::Runtime::ASM::blr();
}